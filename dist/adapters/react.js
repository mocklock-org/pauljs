"use strict";const{functionComponentTemplate:functionComponentTemplate,memoComponentTemplate:memoComponentTemplate,forwardRefComponentTemplate:forwardRefComponentTemplate}=require("./react-templates"),{transformJSXToReact:transformJSXToReact,extractStylesFromComponent:extractStylesFromComponent,createStyleObject:createStyleObject,generateUniqueClassName:generateUniqueClassName,wrapWithErrorBoundary:wrapWithErrorBoundary}=require("./react-utils");function convertToReactComponent(e,t={}){const{memo:n=!1,forwardRef:o=!1,errorBoundary:r=!0,defaultProps:a={}}=t,c=e.name||"PaulJSComponent",m=generateUniqueClassName(c),p=e.react(a);if(!p||"function"!=typeof p.component)throw new Error("Invalid PaulJS component: missing react implementation");const l=p.component(a),s=extractStylesFromComponent(l),u=createStyleObject(s);let i="";u&&(i+=`\n      const componentStyles = ${JSON.stringify(u,null,2)};\n      const styleElement = document.createElement('style');\n      styleElement.textContent = \`\n        ${s.replace(/pauljs-/g,m)}\n      \`;\n      document.head.appendChild(styleElement);\n    `),i+=`\n    ${l.replace(/pauljs-/g,m)}\n  `;let C=functionComponentTemplate;o?C=forwardRefComponentTemplate:n&&(C=memoComponentTemplate);let f=C.replace(/COMPONENT_NAME/g,c).replace(/DISPLAY_NAME/g,`PaulJS.${c}`).replace(/COMPONENT_IMPLEMENTATION/g,i).replace(/RENDER_METHOD/g,"render");r&&(f=wrapWithErrorBoundary(f));try{return transformJSXToReact(f)}catch(e){throw new Error(`Failed to convert component: ${e.message}`)}}function createReactComponent(e,t={}){const n=convertToReactComponent(e,t),o={exports:{}},r=e=>{if("react"===e)return r("react");throw new Error(`Module ${e} not found`)};try{return new Function("module","require",n)(o,r),o.exports}catch(e){throw new Error(`Failed to create component: ${e.message}`)}}module.exports={convertToReactComponent:convertToReactComponent,createReactComponent:createReactComponent};
//# sourceMappingURL=react.js.map
//# sourceMappingURL=..\sourcemaps\react.js.map