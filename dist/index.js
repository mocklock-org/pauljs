const fs=require("fs").promises,path=require("path"),ejs=require("ejs"),hero=require("./components/hero"),cta=require("./components/cta"),footer=require("./components/footer"),reactAdapter=require("./adapters/react"),components={hero:hero,cta:cta,footer:footer};async function generatePage(e="default",r={}){try{const t=path.join(__dirname,"templates",`${e}.ejs`),o=await fs.readFile(t,"utf-8"),n={title:"PaulJS Landing Page",description:"A beautiful landing page built with PaulJS",styles:"",scripts:"",...r,hero:components.hero.render(r.hero||{}),cta:components.cta.render(r.cta||{}),footer:components.footer.render(r.footer||{})},a=ejs.render(o,n),s=path.join(process.cwd(),"index.html");return await fs.writeFile(s,a),s}catch(e){throw new Error(`Error generating page: ${e.message}`)}}async function addComponent(e,r="."){try{if(!components[e])throw new Error(`Component "${e}" not found`);const t=components[e].render(),o=path.join(process.cwd(),r,`${e}.html`);return await fs.writeFile(o,t),o}catch(e){throw new Error(`Error adding component: ${e.message}`)}}module.exports={generatePage:generatePage,addComponent:addComponent,components:components,adapters:{react:reactAdapter}};